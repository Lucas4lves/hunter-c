#! /bin/bash 

base_folder=$(pwd)

cmd=$1
sub_cmd=$2

write_header(){
cat <<EOF >$dest_folder/$header_file_name
#ifndef $header_def_name
#define $header_def_name

#endif
EOF
}

if [ $cmd == 'create' ]; then
	if [ $sub_cmd == 'header' ]; then
		header_name=$3
		header_file_name="${header_name,,}.h"
		header_def_name="${header_name^^}_H"

		if [ -d "$base_folder/headers" ]; then
			dest_folder=$base_folder/headers
		else
			mkdir $base_folder/headers
			dest_folder=$base_folder/headers
		fi

		if [ -f $dest_folder/$header_file_name ]; then
			echo "-- Hunter C --"
			echo "CALLED FROM: $0"
			echo "ERROR: Header file $header_file_name already exists in /headers"
			exit 1
		fi
	write_header
	echo "Header $header_file_name was successfully created!
Run 'cat headers/$header_file_name' to inspect it." 
	else 
		echo "hunter $cmd $sub_cmd is not a valid command. Hit hunter help for more info"
		exit 1 
	fi
else
	echo "$0 -> ERROR: 'hunter $cmd' is not a recognized command. Hit hunter help to more info"
fi 
